# 代理监听地址
LISTEN_ADDR=:8000

# 默认上游（必填）
UPSTREAM_BASE_URL=https://api.anthropic.com

# 默认上游 API Key（可选，留空则不自动注入）
UPSTREAM_API_KEY=sk-your-key-here

# 默认节点名称
UPSTREAM_NAME=default

# 非 200 自动重试次数
PROXY_RETRY_MAX=3

# 连续失败多少次标记节点不可用
PROXY_FAIL_THRESHOLD=3

# 失败节点探活间隔（秒）
PROXY_HEALTH_INTERVAL_SEC=30

# 全量健康检查并发数（默认 2，HEAD/API 可用 1~4 由 normalize 保护）
HEALTH_CHECK_CONCURRENCY=2

# CLI 健康检查并发数（默认 1，CLI 进程 + 15s 超时，建议 1~2）
HEALTH_CHECK_CONCURRENCY_CLI=1

# 全量健康检查间隔（分钟，默认 10）
HEALTH_ALL_INTERVAL_MIN=10

# MySQL DSN（启用持久化；docker-compose 已配示例）
PROXY_MYSQL_DSN=qcc:example@tcp(localhost:3306)/qcc_proxy?parseTime=true

# 宿主机暴露的 MySQL 端口（避免与本地已有实例冲突）
MYSQL_PORT=3307

# Go 构建缓存目录（避免权限问题，可按需修改）
GOCACHE=.gocache

# ========== 多租户配置（默认启用）==========

# 管理员访问密钥（默认: admin）
# 警告：生产环境必须修改此默认值！
ADMIN_API_KEY=admin

# 默认账号配置
DEFAULT_ACCOUNT_NAME=default

# 默认代理 API Key（默认: default-proxy-key）
# 警告：生产环境必须修改此默认值！
DEFAULT_PROXY_API_KEY=default-proxy-key

# ========== 使用说明 ==========

# - 系统默认启用多租户，无需额外开关。
# - 首次启动后请立即修改 ADMIN_API_KEY 与 DEFAULT_PROXY_API_KEY。
# - 管理界面：http://localhost:8000/admin?admin_key=${ADMIN_API_KEY}
# - 客户端携带 x-api-key 或 Authorization: Bearer <proxy_api_key> 访问对应账号。
